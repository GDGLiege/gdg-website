

<dom-module id="gdg-body-news">
  <link rel="import" type="css" href="gdg-body-news.css"/>
  <style is="custom-style" include="shared-styles"></style>
  <template>
    <firebase-collection
      order-by-key="true"
      limit-to-last="3"
      location="https://gdg-liege.firebaseio.com/news"
      data="{{news}}"></firebase-collection>

    <section class="header">
      <article>
        <h2>News</h2>
        <p>Hello <span>world</span>.</p>
        <iron-icon icon="icons:line-weight"></iron-icon>
      </article>

        <!-- 
          app-box allows to style the mixin `--app-box-background-front-layer` or create a custom background in the light DOM.
          In this case, we create a custom background by adding the attribute `background` to the `img` in 
          the light DOM.
        -->
        <app-box class="first" effects="parallax-background"></app-box>

    </section>

    <section class="content">
      <article>
        <template is="dom-repeat" sort="_reverseNews" items="{{news}}">
          <h3>{{item.title}}</h2>
          <p>{{item.text}}</p>
          <paper-button raised on-click="_openNews">Read more</paper-button>
          <hr />
        </template>
      </article>
      <!-- 
        This app-box uses the class `.second` and the mixin `--app-box-background-front-layer` to assign the background image. 
      -->
      <app-box class="second" effects="parallax-background">

      </app-box>
    </section>


    <!-- <section class="content">
      <article>

        <h3>Using Web Components</h2>
        <p>Polymer leverages web components, a new set of standards designed to provide reusable components for the web.</p>
        <hr />
      </article>
      <app-box class="third" effects="parallax-background"></app-box>
    </section>
 -->


  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'gdg-body-news',

        _openNews: function(e) {
          if(e.model.item.link == null) return;
          window.open(e.model.item.link, '_blank');
        },

        _reverseNews: function(e) {
          return e;
        }

      });
    })();
  </script>
</dom-module>
